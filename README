
==============================================================================
Rogue(日本語版ローグ・クローンII）      
                                          鈴木維一郎 <suzuki.iichiro@gmail.com>


太田純氏の「ローグ・クローン2 日本語版1.3」、伊藤康史氏の「データ分離版ローグ・
クローンII」、FUNABARA Masao氏の「rogueclone2s」、 Naohiro Aota氏の「rogueclone
2s-utf8」、を経て、現在のrogue日本語版の最終系は本バージョンとなります。

説明：
rougeclone2s （データ分離版ローグ・クローンII　 メンテナンスバージョン のUTF-8版）
はターミナルへの出力のみが UTF-8対応となっていました。
本バージョンは、ターミナルへの出力はもちろん、メッセージファイル、ソースコードなど
すべての処理がUTF-8対応した【データ分離版ローグ・クローンII最終系】となります。

過去からの流れ
太田純氏の「ローグ・クローン2 日本語版1.3」
↓
伊藤康史氏の「データ分離版ローグ・クローンII」 テキストデータ部分を分離
↓
FUNABARA Masao氏の「rogueclone2s」メンテナンスバージョン
↓
Naohiro Aota氏の「rogueclone2s-utf8」 ソースコードとmsgファイルはeuc 描画はUTF-8に対応
↓
鈴木維一郎の「rogueClone2s-utf8_FIX」
ソースコード、msgファイル、描画出力処理などすべてUTF-8に対応

ではお楽しみ下さい。

==============================================================================

　rougeclone2s （データ分離版ローグ・クローンII　メンテナンスバージョン のUTF-8版）

これは、rougeclone2s （データ分離版ローグ・クローンII　メンテナンスバー
ジョン）をUTF-8に対応させたものです。今のところ、改変はそれにまつわると
ころだけですので、ぼくからのREADMEはこれだけです。

Naohiro Aota <naota@elisp.net>

では、以下のもともとの README をお楽しみください :D

■はじめに

このゲームは、伊藤康史さん作成の「データ分離版ローグ・クローンII」の独自メン
テナンスバージョンです。
「データ分離版ローグ・クローンII」は素晴らしいプログラムですが、作成されてか
ら10年以上が経過しています。
その頃とプログラミング環境を比べるとかなり変化しています。C99 の規格が策定さ
れ、autoconf / automake などの互換性を保持するツールも登場しています。
また、以前の仕様で書かれた「データ分離版ローグ・クローンII」はソース内に様々
な機種用のソースコードが入っていて見るのが少し難しくなっています。
そこでこの素晴らしいプログラムを少しでも分かりやすく・コンパイルしやすくしよ
うと目指しているのがこの rogueclone2s です。


■コンパイルするには
付属の INSTALL を御覧ください。
ソース・プログラムを変更した場合には、『play.c』の中のバージョン表示にメッセ
ージを追加して、変更の履歴を残すようにしてください。


■ゲームの始め方

ゲームを始めるには、端末から引数にメッセージファイルを与え、プログラムを起動
させます。
% rogue mesg

また、スコアを見たり、セーブファイルから始めるにはメッセージファイルの後にそ
れぞれオプションやファイルを指定します。
% rogue mesg -s
% rogue mesg savefile


■ゲームの遊び方
初めてローグをする人は、まずrogue.doc を読んでください。この中には基本的な遊
び方が書かれています。遊び方を知っている人は、options.doc を読んでください。
この中には rogueclone2s のオプションについて書かれています。
なお、rogue.man はUNIXコマンドマニュアルであり、オリジナルのローグ・クローン
２に付属していたものを和訳したものです。
ローグに関する書籍としては以下のものがあります。

　・ローグハンドブック　（ゲームハンドブックシリーズ - 3）　　　　　￥1,500
　　　　　　竹山正寿・木村信行・太田昌孝著　　株式会社ビー・エヌ・エヌ　発行


■利用条件
このソースの利用条件その他については COPYINGに記述がありますので、そちらをご
覧ください。


■データ分離版ローグ・クローンIIとの主要な違い
付属の NEWS を御覧ください。


■ゲーム進行におけるオリジナル・ローグ５．３との主要な違い
基本的な戦略はオリジナルと同じですが、全体に易しくなっています。
・部屋はいつでも明るく、入ると同時にすべてが見える
・迷路のマッピングが異なる
・大部屋（！）がある
・巻き物や水薬は１度使えば効果が明らかになる
・部屋の入口にも持ち物を落とすことができる


■playmenu.cについて
playmenu.cはそのままでは動かないはずです。使っていないので直してありません。


■最後に
それでは、Enjoy happy hacking!


--
FUNABARA Masao


==============================================================================

    データ分離版ローグ・クローンII

○はじめに

  このゲームは (株) リコー ソフトウェア事業部の太田 純 さんによる、
『ローグ・クローン２日本語版 １．３』をもとに、プログラムとデータを分
離したものです。ゲーム自体はオリジナルのものと、ほとんど変わりありませ
ん。

  このプログラムは、メッセージを好きなように変えた「ローグ」をリコンパ
イルせずに作るために、メッセージとプログラムを分離したものです。


○ゲームの仕方

  このゲームはデータが分離しているので、そのファイル名を引数として与え
る必要があります。

  例: rogue mesg

  その他、オプション -s (スコアを見る) あるいはセーブファイルの指定な
どは、メッセージファイルの後に与えます。

  例: rogue mesg -s
      rogue mesg savedfile


○著作権について

  このプログラムは、ソース、実行ファイルを含めてコピーフリーで、利用・
改変・再配布は自由に行なうことが出来ます。

  このプログラムは、Tim Stoehr による英語版の Rogue-clone: Version II
を太田 純さんが日本語化して MS-DOS に移植したものを私が UNIX 向けのデ
バッグとメッセージの分離を行なったものです。

  Tim Stothr と私は著作権を放棄していますので、日本語版の著作権、著作
者人格権は太田 純さんが所有しています。太田 純さんが関わっていない部分
(README.doc 参照) は、完全な PDS です。

  著作権に関する詳細は、太田 純さんの書いたドキュメント README.doc を
参照してください。


○コンパイルするには

・UNIX 環境では次の環境での動作を確認しています。

  SunOS 4.1.1 (Sun Sparc Station 1)   gcc
  UniOS-B   (OMRON LUNA)      cc, gcc
  NeXT step 2.1J  (NeXT Cube Monochrome 68030)  cc, gcc
  386BSD    (NEC PC-9801DA)     gcc

  Makefile.nix の適当な部分を使ってコンパイルして下さい。

    * Sparc の cc など、
  (condition) ? "文字列定数1" : "文字列定数2"
      を通さないコンパイラでは、このままではコンパイルできません。

    * machdep.c で ioctl() を用いているので、環境によっては
      traditional の cpp を用いる必要があります。
      gcc 2.0 以上では、デフォルトで ANSI 準拠ですから気をつけて下さい。

    * System V は あまりテストしていません。若干ライブラリの関数名が違
      うかもしれません。

    * System V の terminfo には対応していません。termcap を
      シミュレートして下さい。


・MS-DOS 上で使うには、まず *.c, mesg* を Shift-JIS に変換して下さい。

  Microsoft C
  Borland C

  上での動作を確認しました。
    処理系がないので確認できませんが、 Lattice-C でもコンパイルできる
  かもしれません(オリジナルではできるそうです)。

    Shift-JIS コードを通すコンパイラを使って下さい。
    データエリアが大きいので Huge モデルでコンパイルして下さい。
  Makefile.tcc は直してありません。
    #if のネストを許さないようなコンパイラではもはやコンパイルできない
  はずです。
    主記憶が少ないマシンでは、コンパイル・実行が出来ないことがあります。
  make を使っていると最後のリンクだけ出来ないということもあります。
    関数宣言などの問題で、若干の修正が必要なことがあります。

    附属の BATCHCOM.COM (batchcom.uue) はなぜか動作しませんので、適当
  に INSTALL.BAT (install.uue) を書き換えてMakefileを生成して下さい。
    くわしくは、太田 純さんの書いたドキュメント README.doc を参照して
  ください。


・Human 68k (X68000) 上で使うには、まず *.c, mesg* を Shift-JIS に変換
  して下さい。

  gcc + XC のライブラリ

  での動作を確認しています。XC でコンパイルできるかどうかは、KMC では
  もはや XC はインストールされていないので確認できません。


  ◇コンパイラオプション
  -DUNIX    すべての UNIX システム。

  -DUNIX_BSD4_2 4.2BSD 以降(4.1も?)。

  -DUNIX_386BSD fpurge(FILE *stream) (バッファの内容を捨てる)
      のあるシステム。
      386BSD では、FILE 構造体が変わっていて、
      ふつうの flush ができない。
      -DUNIX, -DUNIX_BSD4_2 は必要。

  -DUNIX_SYSV System Vのとき。
      -DCURSES のときには BSD 相当の termcap が必要。

  -DMSDOS   MS-DOS, Human 68k のとき。

  -DHUMAN   Human 68k のとき。
      -DMSDOS が必要。

  -DCURSES  附属の curses を使う。これがないときには
      システムの curses ライブラリを使う。

  -DCOLOR   カラーにする。
      -DCURSES をつけて附属の curses を使う必要がある。
      UNIX 上では出来ない(と思う)。

  -DJAPAN   日本語モードにする。
      NeXT 以外は -DCURSES が必要。(?)
      NeXT はどちらでも良い。

  -DEUC   漢字コードを UNIX JIS にする。
      これをつけないと Shift-JIS とになる。
      -DJAPAN がないときには無意味。

  -DTOPSCO  最高得点に同一の人が複数載るようにする。
      これをつけないとその人の最高のものしか載らない。
      この有無によってメッセージファイルの 187 番目
      の記述を変える必要がある。

  -DORIGINAL  Tim Stothr によるオリジナルをコンパイルする。
      もうこれをつけてコンパイルすることが
      出来なくなってしまいました (;_:)。


○ローグ・クローン２　日本語版１．３からの変更点

・メッセージを分離し、プログラム起動時の第１引数で与えられるファイルから
読み込むようにました。

  メッセージファイルの構造は、

  メッセージ番号    "メッセージ"

で、このフォーマット以外の部分はすべてコメントとして読み飛ばされます。
  必要なメッセージが抜けていると暴走しますので注意して下さい。漢字を
使う場合は、コードは -DEUC が指定されているときには UNIX JIS、そうで
ないときはShift-JIS である必要があります。コントロールコードのような、
バイト数と表示される長さが異なってくるようなものは使えません。また、
 " (２重引用符) を含めることもできません。

・UNIX の termcap を次のように解釈するようにしました。
  1) 環境変数 TERMCAP にtermcap エントリを指定する、
  または
  2) TERM に端末のタイプを指定し、TERMCAP に termcap ファイル名を指定す
     る(この場合は TERMCAP の指定がなければ /etc/termcap とみなされる)。

・ソースの #if defined(JAPAN) && !defined(CURSES) という所は、NeXTを
  想定しています。

・指輪と食糧の減り方の関係がおかしいというバグを直しました。

・プレイヤーの名前として、環境変数 FIGHTER の値が USER の値に優先する
  ようにしてあります。


○バグ

・NeXT の jcurses を使ってコンパイルすると、画面ダンプ (Control-D) で、
  漢字がおかしくなります。これは jcurses から得られる画面情報の最上位ビ
  ットがおかしいからです。save game コマンド(S) では対策をしてあります。

・termcap の解釈で、同じエントリがあると最後のものが有効になります(本当
  は tc= エントリがあることを考えて、最初ものが有効になるのが望ましい)。
  また、@ (そのエントリが存在しないことを示す) は何もないのと同じです。

・Sparc (kterm / X11R4) 上で、最上部の表示がおかしくなることがあります。
  ［続く］等が残ってしまうというものです。kterm のバグかもしれませんが。

・playmenu.c はそのままでは動かないはずです。使っていないので直してあ
  りません。元のままのソースです。rogue.exe にメッセージファイル名の
  引数を与えるようにすればば動くと思います。

              Sept. 10, 1992
                 京大マイコンクラブ
            伊藤 康史 (Ito Yasufumi)
              brx@kmc.kyoto-u.ac.jp



==============================================================================

■README.doc 原版より
●ローグ・クローン２　日本語版１．３について　はじめに
このゲームはバークレイ版ＵＮＩＸに載っているオリジナル・ローグ５．３のクロー
ンです。原作者のＴｉｍ　Ｓｔｏｅｈｒは、ローグを見てプログラムのソースを手に
入れたかったのですが、それが不可能だったので、クローンを自分で作ってしまった
わけです。そしてそのローグ・クローンのソースをパブリック・ドメインに置いて、
誰もが触ることができるようにしました。
このオリジナルのローグ・クローン（ああ、ややこしい）はＵＮＩＸ上で動くプログ
ラムでしたが、私がＭＳ−ＤＯＳ上に移植しました。日電のＰＣ−９８０１シリーズ
を初めとして、日本語の使えるほとんどのＭＳ−ＤＯＳマシン上で実行できるように
したつもりです。大きな変更は、メッセージを日本語化したこととカラーにしたこと
です。その段階でソースをあちこちいじり回したので、かなりの数のバグがひそんで
いると思われます（実際にひそんでいました：−）。これらのバグは、原作者ではな
くすべて私の責任です。

●プレイヤー・メニューについて
配布ファイル中のＲＯＧＵＥ．ＣＯＭは、複数の人間が１台のＭＳ−ＤＯＳマシンで
ローグをプレイするためのメニューコマンドです。メニュー上で１０人までのプレイ
ヤーを登録し、それぞれに独立した名前とセーブファイルを持たせることができます。
セーブされたゲームの再開も自動的に行います。
操作方法は簡単で、Ｈ、Ｊ、Ｋ、Ｌキーでカーソル移動、スペースあるいはリターン
で選択・実行、エスケープでキャンセルです。名前を登録・変更するときには、バッ
クスペース（１文字削除）、ＣＴＲＬ−Ｕ（１行削除）も有効です。ＰＣ−９８０１
ではＨ、Ｊ、Ｋ、Ｌキーの代わりにカーソルキーを使うこともできます。
最初にローグで遊ぶときは、メニューから『Ａ．プレイヤー登録』を選び、表示され
るメッセージに従ってプレイヤーの名前を登録してください（プレイヤー名には漢字
を使用することができます）。次回からはＨ、Ｊ、Ｋ、Ｌキーでプレイヤーを選んで
スペースを押せば、ゲームが始まります。
ＲＯＧＵＥ．ＣＯＭは、独自に管理するプレイヤー情報に基づいて環境変数ＵＳＥＲ、
ローグのオプションｎａｍｅ、ｆｉｌｅを設定し、ローグの実行ファイルであるＲＯ
ＧＵＥ．ＥＸＥを起動します。このため、ＲＯＧＵＥ．ＣＯＭ経由でローグをプレイ
する場合には、環境変数ＵＳＥＲ、ＲＯＧＵＥＯＰＴ９が一時的に無効になります。



==============================================================================
                 *rogue-guide*
            日本語版ローグ・クローンによる『運命の洞窟』への招待


                                太田    純

                      （株）リコー  ソフトウェア事業部



                                  概  要

        日本語版ローグ・クローンはＭＳ－ＤＯＳのもとで実行できるキャ
        ラクター・オリエンテッドなアドベンチャー＆ファンタジー・ゲー
        ムであり、バークレイ版ＵＮＩＸに含まれているローグ５．３とほ
        ぼ同様の機能を持つクローンである。ここでは日本語版ローグ・ク
        ローンで遊ぶための方法、またいくつかのヒントを述べていく。


                *rogue-guide-introduction*
１．ゲームシナリオ（背景と進行）

  『君はある地方の戦士訓練学校での数年間を終えたばかりである。多くの汗と試練
をくぐり抜け、とうとう訓練を終了した君は、いつでも危険な冒険へと旅発つ心の準
備ができている。訓練学校の教師は、君の腕前を試すために君を運命の洞窟へ送り込
むことにした。君に課せられた試練は、イェンダーの魔除けを手に入れて戻ることで
ある。成功のあかつきには、君は名誉ある地方戦士協会の一員となることができる。
さらに、洞窟から持ち帰った財宝はすべて自分の物とすることができるのだ。

  冒険の旅に備え、はるか遠くにあるダークマウンテンに棲むドラゴンから奪い取っ
て来たといわれる魔法のかけられたほこ、弓、そして１束の矢が君に与えられた。君
はまた、森に棲む妖精が作ったかたびらを身にまとい、洞窟にたどりつくまでの食糧
を持った。家族と友人に最後の別れを告げると、君は道を向かった。

  洞窟へ出発してから数日のあいだ何事もなく旅を続けたのちに、君はようやく運命
の洞窟への入口となる古代の廃虚にたどりついた。夜も更けていたので、君は洞窟の
入口を宿と決め、その晩は夜空の下で眠った。一夜が明けると、君は武器を集め、か
たびらを身にまとい、残り少ない食事を取り、そして洞窟へと降りていった‥‥。』

        ‥‥‥オリジナルのローグについての論文「『運命の洞窟』への招待」より


  このゲームの目的は、運命の洞窟を探検して怪物たちと戦いながら、地下２５階よ
り深いどこかにあるイェンダーの魔除けを探し出し、それを持って地上に戻ってくる
ことである。

  地下深く続いている洞窟には、各階にいくつかの部屋とそれらを結ぶ通路がある。
洞窟の各階は、それぞれの階に１つだけ存在する階段によって結ばれている。初め、
これらの部屋や通路はどこにあるかわからない。この中を歩き回ってどこに何がある
かを探検するのがプレイヤーの役目である。プレイヤーは各階を探し回りながら階段
により地下へと降りてゆかねばならない。ちなみに、各階のマップはゲームごとに異
なっているので、書き留めておいても無意味である。

  部屋や通路にはプレイヤーを倒そうと待ち構えた怪物たちがうろついている。怪物
にはいろいろな種類があり、それぞれ異なった方法で攻撃してくる。プレイヤーは戦
闘コマンドによってこれらの怪物たちと戦いながら経験を積み、強くなっていかなけ
ればならない。

  また、部屋や通路にはいろいろなものが落ちている。ゲームのスコアに直結する金
塊や、ゲームを続けるために必要な食糧（空腹なまま歩き回るとプレイヤーは死んで
しまう）、その他にもいろいろな魔力を持った品物がある。これらの品物は拾うこと
ができ、拾い上げた品物はプレイヤーが持ち歩いている袋の中にしまわれる。この持
ち物を上手に利用することによって怪物たちとの戦いを有利に進めることができる。
また、倒した怪物が品物を持っていることもある。


                *rogue-guide-screen*
２．画面配置

  次に示す図はゲーム開始時の画面の例である。プレイヤーは洞窟の地下１階にある
部屋の１つにいる。同じ部屋の中にへびと大うずらがいるのが見える。また、金塊と
水薬が１つずつ落ちている。プレイヤーの下方には地下２階へと続く階段がある。さ
らに、プレイヤーのいる部屋には上、右、下にドアがあり、通路を隔てて別の部屋へ
続いているようだ。

----------------------------------------------------------------------------
やあ、戦士。 運命の洞窟へようこそ...



>
   -----+---------------
   |..@..............*.|
   |...............!...|
   |...................|
   |.%.................|
   |.......S....E......+
   ------------+--------
<


階: 1  金塊: 0      体力: 12(12)   強さ: 16(16) 守備: 4  経験: 1/0
----------------------------------------------------------------------------

  画面最下行はプレイヤーの現在状態を表している。以下はその説明である。

階: 現在、洞窟の地下何階にいるかを表す。

金塊: 今までに拾った金塊の数を表す。

体力: 体力の現在値と上限値。どれだけダメージを受けると死ぬかを表す。怪物の
        攻撃を受けるたびにその値は減って行く。休んでいれば体力は回復する。括
        弧の中の数値は体力の上限値を表している。

強さ: 強さの現在値と上限値。これは３と３１の間の数である。この数値が大きい
  ほど、プレイヤーの攻撃力は増す。括弧の中の数値はこれまでに得た最大の
  強さを表している。

守備: 現在着ているよろいの守備力。この数値が大きいほど怪物の攻撃に耐えるこ
  とができる。

経験: これら２つの数値はプレイヤーの現在の経験レベルと経験値を示している。
  プレイヤーが何かをするたびに経験値が上がる。経験値がある値に達すると
  次の経験レベルに進むことができる。経験を積めば積むほどプレイヤーの戦
  いの腕が上がり、また魔力による攻撃に耐えられるようになる。

さらに、プレイヤーが空腹状態にあるときには最下行の右端に『空腹』あるいは『飢
餓』の表示が現れることもある。

  画面最上行はメッセージを表示するために使われる。『［続く］』というメッセー
ジが表示されたときは、メッセージの続きがある。これを読むためにはスペースを打
てばよい。

  それ以外の部分はその階のマップである。画面上の文字は以下に示す意味を持って
いる。

@ これはプレイヤーを表す。

-|  これらの記号は部屋を囲む壁を表す。

+ 部屋の入口・出口のドア。

. 部屋の床。

# 部屋と部屋の間にある通路。

* 金塊。

) 武器。

] よろいかたびら。

! 魔法の水薬が入っている小瓶。

? 魔法の巻き物。

= 魔法の指輪。

/ 魔法の杖。

^ わな。通常は隠れている。

% 前あるいは次の階へ通じる階段。

: 食糧。

, イェンダーの魔除け。これを探し出すことが最終目的である。

A-Z さまざまな怪物たち。


              *rogue-guide-commands*
３．コマンド

  ローグでは、１～３文字のコマンドを入力することによってゲームを進める。ほと
んどのコマンドは、繰り返しの回数を指定することができる（例えば『１０ｈ』と打
つと、左に１０カラム移動する）。回数が意味を持たないコマンドでは、回数は無視
される。コマンドを途中でキャンセルしたいときにはエスケープキーを打てばよい。
以下の説明の中で <方角> には『ｈｊｋｌｙｕｍｎ』のいずれか１文字を入力する。
また <持ち物> にはプレイヤーが現在持ち歩いている持ち物を表わす１文字のアルフ
ァベットを入力する。（『＊』を入力すれば、指定できる持ち物のリストが表示され
るので、その中から選んで入力することができる。）また、以下の説明の中で『＾』
はコントロールキーを表している。すなわち、『＾Ｈ』はコントロールキーを押しな
がら『Ｈ』を押すことを意味している。

? ヘルプコマンド。すべてのコマンドのリストを表示する。

/ <文字>
  マップ上の文字が何を表しているかを教えてくれる。

h, H, ^H
  左に移動する。プレイヤーが１つ左に移動する。大文字の場合は、何かにぶ
  つかるまで左に移動する。これはすべての移動コマンドに共通である（例え
  ば、『Ｊ』は『ｊ』の方向に走ることを意味する）。また『コントロール』
  ＋『ｈ』では、プレイヤーは何かのそばを通るか、または壁にぶつかるまで
  移動を続ける。これもすべての移動コマンドに共通である。

j 下に移動する。

k 上に移動する。

l 右に移動する。

y 左上に移動する。

u 右上に移動する。

b 左下に移動する。

n 右下に移動する。

t <方角> <持ち物（武器）>
  指定した方角に指定した持ち物を投げる。例えば『ｔｈｅ』は持ち物『ｅ』
  を左に投げる。 (throw)

f <方角>
  指定した方角に接している怪物と、どちらかが死にそうになるまで戦う。
  (fight)

F <方角>
  指定した方角に接している怪物と、どちらかが死ぬまで戦う。 (fight)

m <方角>
  指定した方角に１つ移動するが、そこに何かが落ちていても拾わない。
  (move)

z <方角> <持ち物（杖）>
  指定した方角に杖を向け、発射する。 (zap)

^ <方角>
  指定した方角に接しているわなの種類を教えてくれる。

s プレイヤーのすぐ隣の場所にわなあるいは隠されたドアがあるかどうかを調
  べる。何十回も調べなければみつけることができないわなやドアもある。
  (search)

> 階段の上に立っているとき、その階段を降りる。

< 階段の上に立っているとき、その階段を上がる。イェンダーの魔除けを持っ
  ていない限り、階段を上がることはできない。

. 休む。何かを待ったり、体力を回復するために使うことができる。

, 何かの上に立っているときに、その足元にあるものを拾い上げる。

i これは持ち物を調べるコマンドであり、プレイヤーが袋の中に持ち歩いてい
  るもののリストを表示する。 (inventory)

I <持ち物>
  指定した持ち物だけを調べる。袋の中にある１種類のものだけを見る。
  (inventory)

q <持ち物（水薬）> 
  持ち物の中の水薬を飲む。 (quaff)

r <持ち物（巻き物）>
  持ち物の中の巻き物を読む。 (read)

e <持ち物（食糧）>
  持ち物の中の食糧を食べる。 (eat)

w <持ち物（武器）>
  武器を持ち換える。呪いのかかった武器を持ち換えることはできない。
  (wield)

W <持ち物（よろい）>
  よろいを着る。一度に着ることができるよろいは１つだけである。よろいを
  着るためにはある程度の時間が掛かる。 (wear)

T <持ち物（よろい）>
  よろいを脱ぐ。呪いのかかったよろいを脱ぐことはできない。よろいを脱ぐ
  ためにはある程度の時間が掛かる。 (take off)

P <持ち物（指輪）>
  指輪をはめる。両方の手に１つずつ指輪をすることができる。１つも指輪を
  していないときには、どちらの手にはめるか聞いてくるので『ｌ（左）』ま
  たは『ｒ（右）』入力する。どちらかに指輪をしているときには、指輪をし
  ていない方の手にはめられる。また、プログラムはプレイヤーが右手で剣を
  持つものと仮定している。 (put on)

R <持ち物（指輪）>
  指輪をはずす。１つの指輪だけをしているときにはそれがはずされる。２つ
  の指輪をしているときにはどちらをはずすか聞いてくるので『ｌ（左）』ま
  たは『ｒ（右）』を入力する。また、呪いのかかった指輪をはずすことはで
  きない。 (remove)

d <持ち物>
  指定した持ち物を落とす。袋から１つの持ち物を取り出して床に置く。１つ
  の場所には１つのものしか置くことができない。呪われた武器、よろい、指
  輪を身につけているとき、それを落とすことはできない。 (drop)

c <持ち物> <呼び名‥‥‥>
  指定した持ち物に呼び名をつける。袋の中の持ち物が何であるかを憶えてお
  きたいとき、このコマンドでその持ち物に名前をつけることができる。これ
  は通常、水薬、巻き物、指輪、杖を拾ったあとで、それが何であるかわかっ
  たとき、あるいは袋の中のどの剣を手に持っていたのか憶えておきたいとき
  に使う。 (call)

D <文字>
  これまでに効果が明らかになった品物を表示する。このコマンドはどの種類
  の品物を調べたいかを聞いてくる。『＊』を入力すればすべての品物につい
  て表示を行い、また、ある種類の品物を表わす文字を入力すれば（例えば水
  薬なら『！』）、その種類に属する品物のなかでどれの効果が明らかになっ
  ているか（すなわち、それが何か）を表示する。 (discovered)

o オプションを表示、設定する。このコマンドについてはオプションの項でく
  わしく説明する。 (option)

^R  画面を書き直す。画面が乱れたときに使う。 (redraw)

^P  直前のメッセージを再表示する。読めないうちにメッセージが消えてしまっ
  たときに便利である。 (previous)

! ＭＳ－ＤＯＳのコマンドを実行するため、ＣＯＭＭＡＮＤ．ＣＯＭを呼び出
  す。『ｅｘｉｔ』コマンドでローグに戻ることができる。

Q ゲームを途中で終了する。本当に終了してよいか聞いてくるので、よければ
  『ｙ』を入力する。 (quit)

S ゲームをファイルにセーブして終了する。セーブするファイル名を聞いてく
  るので、ファイル名を入力してリターンキーを押す。 (save)

  セーブされたゲームを再開するには、次にローグを始めるときに、引数とし
  てそのファイル名を与えればよい。

    A>  rogue  セーブファイル

v ローグののバージョン番号を表示する。 (version)

) 現在手に持っている武器を表示する。

] 現在着ているよろいを表示する。

= 現在つけている指輪を表示する。

@ プレイヤーの現在状態を表す行を再表示する。

a 直前のコマンドを繰り返す。

% 現在の画面をファイルＲＯＧＵＥ．ＳＣＲにセーブする。


              *rogue-guide-fighting*
４．怪物たち、および戦闘

  洞窟の中にはさまざまな怪物たちがうろついており、これらの怪物たちとの戦いを
避けることはできない。怪物の攻撃パターンは大きく分けて２つある。プレイヤーの
姿を目にするとただちに立ち向かってくるものと、プレイヤーが攻撃しない限り向か
ってこないものである。また、怪物の強さもさまざまであり、一般的には深い階にい
る怪物ほど攻撃力が強い。ほとんどの怪物は、すぐ隣の位置にいない限りは攻撃して
くることはない。

  怪物と戦うための普通の手段は武器を使うことである。武器は手に持って戦うこと
もできれば、怪物に投げつけることもできる。武器を手に持ったまま怪物と戦うため
には、怪物と接する位置で怪物のいる方角に進もうとすればよい。武器を投げる場合
には遠く離れていても攻撃することができる。いずれの方法でも、攻撃できる方向は
プレイヤーの周囲８方向のみである。


               *rogue-guide-objects*
５．品物

  洞窟の中で見つけたものは、その上を歩けば拾うことができる。拾った品物はプレ
イヤーが持ち歩いている袋の中にしまわれ、何を拾ったかメッセージが表示される。
ただし、プレイヤーが持ち歩くことができる品物には限りがある。持ち物が多すぎる
場合にはローグはその旨を表示し、品物を拾わない。

  袋の中の持ち物はさまざまなコマンドで使うことができる。持ち物にはそれを識別
するための１文字のアルファベットが付けられており、使う持ち物はそのアルファベ
ットで指定する。このアルファベットの代わりに『＊』を指定すれば、指定できる持
ち物のリストを見ることができ、その中から選ぶことができる。

  それぞれの品物には名前が付いている。よろいや武器はその名前を見れば種類がわ
かる。しかし、巻き物はそのタイトルによって、また水薬はその色によって名前が付
けられており、使ってみるまでその種類はわからない。このタイトルや色はゲームご
とに変わるので、予測することができない。しかし、１回のゲームの間は、同じ名前
の品物は同じ種類のものである。

  巻き物や水薬は１回使うとその効果がわかり、次に拾ったときにはその効果を表す
名前が付いてくる。しかし、杖などのように簡単には効果がわからないものについて
はそのようなことはない。効果がわかったならば、『呼び名を付ける』コマンドによ
って名前を付けておくのがよい。


（１）武器

  武器を使うためには、それを手に持っていなければならない。弓を使って矢を射る
ためには、まず弓を『手に持ち』、それから矢を『投げる』必要がある。１度にはた
だ１つの武器しか手に持つことはできない。武器は魔法がかかっていることや呪われ
ていることがある。魔法がかかっている武器は強く、呪われている武器は弱いのが普
通である。また、手に持っている武器が呪われているときは武器を持ち換えることは
できない。なお、持ち物を調べるコマンドによる表示は次の意味を持つ。

        （当たり易さ，当たったときの強さ）武器名

  武器を使うためのコマンドは『ｗ（手に持つ）』と『ｔ（投げる）』である。


（２）よろい

  よろいは怪物の攻撃から身を守る働きを持つ。そのためにはよろいを着ている必要
がある。よろいは１度に１つだけしか身につけることができないので、よろいを着る
ためには、まず現在着ているよろいを脱がなければならない。また、よろいを着たり
脱いだりするにはある程度の時間が掛かる。よろいには魔法がかかっていることや呪
われていることがある。魔法がかかっているよろいは強く、呪われているよろいは弱
いのが普通である。また、着ているよろいが呪われているときは、脱ぐことはできな
い。よろいはその種類によって基本的な守備力が異なる。以下はそのリストである。
数値が大きいほど、守備力は強い。

  ------------------------------------------
  種類            守備力
  なし          ０
  革のよろい        ２
  かたびら        ３
  うろこのよろい        ４
  鎖かたびら        ５
  帯金のよろい・延金のよろい    ６
  鋼鉄のよろい        ７
  ------------------------------------------

  なお、持ち物を調べるコマンドによる表示は次の意味を持つ。

        （基本守備力からの差）よろいの種類［守備力の合計］

  よろいを使うためのコマンドは『Ｗ（着る）』および『Ｔ（脱ぐ）』である。


（３）巻き物

  巻き物には魔法の力を持った呪文が書かれており、それを読むと奇跡が起こると言
われている。巻き物には見知らぬ国の言葉で書かれたタイトルがつけられている。ま
た、巻き物は１度読むと消えてしまう。

  巻き物を使うためのコマンドは『ｒ（読む）』である。


（４）水薬

  当然のことながら水薬はそれを飲んだ者の体に何らかの影響を与える液体である。
水薬の種類はその色で区別される。また、水薬は１度飲んでしまうとなくなる。

  水薬を使うためのコマンドは『ｑ（飲む）』である。


（５）杖

  杖は木や金属でできており、その種類は杖の材質で区別される。これらの杖は魔法
の力を持っていて、ある方角に向けて発射することにより、遠く離れたものに影響を
与えることができる。ただし、杖に込められている魔法には限りがあり、使い果たし
てしまうとただの棒になってしまう。なお、持ち物を見るコマンドによる表示は次の
意味を持つ。

        杖の種類［残り使用回数］

  杖を使うためのコマンドは『ｚ（撃つ）』である。


（６）指輪

  指輪は何らかの魔力を持っている。この魔力は使い果たすことがないので、うまく
使えば非常に役に立つ。指輪は両方の手に１つずつはめることができる。ローグのプ
レイヤーは必ず右利きであると言われている。また、指輪には魔法がかかっているこ
とや呪われていることがあり、呪われている指輪は逆効果を持ち、はずすこともでき
ない。さらに、ほとんどの指輪はつけていると食糧の消費が速くなる。その率は指輪
の種類によってさまざまである。指輪の種類は、はめ込まれた宝石によって区別され
る。なお、持ち物を調べるコマンドによる表示は次の意味を持つ。

        （効果の強さ）指輪の種類

  指輪を使うためのコマンドは『Ｐ（はめる）』および『Ｒ（はずす）』である。


（７）食糧

  冒険を続けるためには食糧が必要である。長いあいだ食事をしないでいると体がだ
んだん弱ってきて、ついにはプレイヤーは死んでしまう。

  食糧を使うためのコマンドは『ｅ（食べる）』である。



６．オプション

  ローグには、ゲームの振舞いをさまざまに変えるために一連のオプションが用意さ
れている。オプションを設定するには２通りの方法がある。１つはゲームの開始前に
環境変数によって設定する方法であり、もう１つはゲーム中にオプションコマンドで
設定する方法である。


（１）環境変数 ROGUEOPTS, ROGUEOPT1, ..., ROGUEOPT9

  ROGUEOPTS 変数には、各種のオプションに対する設定をコンマで区切って並べたリ
ストを設定する。設定の方法は次の通りである。

        A>  SET ROGUEOPTS=オプション,オプション,...

オプションにはイエスかノーの値を取る真偽値オプションと、文字列を値とする文字
列値オプションがある。真偽値オプションは、オプション名をリストに加えることに
よってイエスを、名前の前に『ｎｏ』をつけ加えることによってノーを設定すること
ができる。文字列値オプションでは、オプション名の後にコロン『：』を書き、その
後ろに設定する文字列を書く。この文字列の中にカンマ『，』および等号『＝』を入
れることはできない。

  例として jump を無効に、 passgo を有効に、また name を『つぐむくん』に設定
するためには、ＭＳ－ＤＯＳプロンプトに対して次のコマンドを実行すればよい。

        A>  SET ROGUEOPTS=nojump,name:つぐむくん

  ここではオプション名を小文字で示したが、 NOJUMP のように大文字で指定するこ
ともできる。また、同じオプションが２度以上設定されている場合には、後で指定し
たものが有効である。さらに、ROGUEOPTS 変数の変種として ROGUEOPT1, ROTUEOPT2,
 ..., ROGUEOPT9 を使うこともできる。これらの環境変数が設定されているときは、
ROGUEOPTS の続きとして読み込まれる。評価の順序は ROGUEOPTS, ROGUEOPT1, ..., 
ROGUEOPT9 の順である。これらの変種を使うことにより、一時的な設定の変更を簡単
に行うことができる。


（２）オプションコマンド

  ゲーム中に『ｏ』コマンドを入力すると、ローグは画面をクリアしてすべてのオプ
ションについて現在の設定を表示する。次に、カーソルを最初のオプションに置いて
入力を待つ。そこで、リターンキーを押せば次のオプションに進み、マイナス『－』
では前のオプションに戻ることができる。

  オプションの値を変更するには、真偽値オプションに対しては『ｙ（イエス）』ま
たは『ｎ（ノー）』を入力すればよい。文字列値オプションに対しては、新しい文字
列を入力した後にリターンキーを押す。

  設定を終了するためには、リターンキーあるいは『－』を何回か押して上下どちら
かに抜け出せばよい。また、途中でキャンセルしたいときは、エスケープキーを押せ
ばただちにゲームに戻ることができる。


（３）各種オプション

  ここに挙げたリストは、各種オプションとそれぞれの意味である。省略した場合の
値は『［］』の中に示してある。

  これらのオプションの詳細については、オプションについて述べたドキュメントを
参照すること。

jump [nojump]
  移動コマンドを実行したとき、移動が終了するまで表示を行わない。これに
  より、ゲームをスピードアップすることができる。

passgo [passgo]
  部屋と部屋を結ぶ通路を移動するとき、曲がり角で止まらない。

tombstone [tombstone]
  プレイヤーが死んでしまったときに墓標を表示する。

color [color]
  ゲームマップをカラーで表示する。

fruit [こけもも]
  好物のくだものの名前。

file [なし]
  ゲームをセーブするために使われるファイル名。

name [環境変数 USER の値]
  プレイヤーのニックネーム。最高得点のリストに載るときに使用される。

directory [なし]
  スコアファイルや画面ダンプファイルを置くディレクトリー。ゲーム中はこ
  のディレクトリーがカレントディレクトリーとなっている。

map [cbmyg]
  カラー表示を行う際のキャラクター別カラーマッピング。

type [none]
  ゲームを実行する機種名。

init [なし]
  ゲーム開始時に画面を初期化するためのエスケープシーケンス。

term [なし]
  ゲーム終了時に画面を復帰するためのエスケープシーケンス。

cursor [なし]
  カーソルの表示をオン・オフするためのエスケープシーケンス。


               *rogue-guide-scoring*
７．スコア

  ローグでは、ゲームが終了したときにトップ１０のスコアを表示する。現在のゲー
ムの結果がトップ１０にランクされた場合には、そのスコアが反転表示される。

  ゲームのスコアは、ゲーム終了時にプレイヤーが持っている金額で決まる。『ｑ』
コマンドでゲームを終了したときにはその金額すべてが得点になる。しかし、怪物と
の戦いに破れてゲームが終了したときは、プレイヤーの亡きがらを近親者に送り届け
る手数料として、洞窟の中の葬儀屋が１０％を徴収することになっている。このため
金額すべてが得点になるわけではない。

  現在のトップ１０スコアを見るためには、次のコマンドを実行すればよい。

        A>  rogue  -s



８．参考文献

・A Guide to the Dungeons of Doom       (4.3 Berkeley Software Distribution)
                                    Michael C. Toy / Kenneth C. R. C. Arnold

・ローグハンドブック  （ゲームハンドブックシリーズ－３）        ￥１，５００
            竹山正寿・木村信行・太田昌孝著    株式会社ビー・エヌ・エヌ  発行

==============================================================================
